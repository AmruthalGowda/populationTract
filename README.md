# Census population tract

# Table of contents

1. [Problem](README.md#Problem)
2. [Input](README.md#Input)
3. [Approach & Algorithm](README.md#Approach)
4. [Output](README.md#Output)
5. [Test-cases](README.md#Test-cases)
5. [Run Instructions](README.md#Run-Instructions)
6. [Contact](README.md#Contact)

# Problem
The federal Census datasets for census tracts, including relatively small areas that average 4,000 inhabitants are considered. Data at that detailed level is useful, but sometimes it's also helpful to roll up some of the information.

As a data engineer, clean the data by handling missing values and create a platform to analyze the population tract from 2000 to 2010 Core Based Statistical Area wise by calculating: *total number of census tracts*, *total popluation in 2000*, *total population in 2010* and *average population percentage change for census tract*

# Input
Dataset is available in [path](https://www.census.gov/data/tables/time-series/dec/metro-micro/tract-change-00-10.html)

# Approach
<img src="https://github.com/AmruthalGowda/populationTract/blob/main/Architecture.PNG" >

Steps followed to resolve this problem is- <br>
Read file contents line by line <br>
Clean data as necessary <br>
Insert required data into dictionary <br>
Sort data in the dictionary <br>
Write data to output file <br>

# Algorithm
step 1: Create result dictionary<br>
step 2: Open file in read mode<br>
step 3: Set pop2000,pop2010 and perchange variables to 0<br>
step 4: Extracting pop2000, pop2010 and pchange from data <br>
step 5: Convert step4 data into respective format. For ex: population to int and pchange to float<br>
step 6: Removing common from numerical values <br>
step 7: Handle missing/garbage value from pop and pchange data<br>
step 8: Read CSBAcode and CSBA title from data <br>
step 9: Check for each row: <br>
	&nbsp;&nbsp;&nbsp;&nbsp; If CSBA code is empty in result dictionary add required data into result dictionary<br>
step 10: If CSBA code exists in dictionary:<br>
	&nbsp;&nbsp;&nbsp;&nbsp; Check for CSBA title - if empty then add title in the dictionary <br>
	&nbsp;&nbsp;&nbsp;&nbsp; Add new row data(pop2000, pop2010, pchange) into existing dictionary <br>
step 11: Open `report.csv` into writing mode<br>
step 12: Find average of pchange by diving with tract<br>
step 13: Sort result dictionary and write <br>

# Output
Program creates a `report.csv` output file and it holds below data respectively:
*total number of census tracts*, *total popluation in 2000*, *total population in 2010*, *average population percentage change for census tract* grouped by CSBA

# Test-cases
for each test cases you can find a sample test case input and output file under Test-cases folder.<br>
<b>test1</b> With clean data
```
GEOID,ST10,COU10,TRACT10,AREAL10,AREAW10,CSA09,CBSA09,CBSA_T,MDIV09,CSI,COFLG,POP00,HU00,POP10,HU10,NPCHG,PPCHG,NHCHG,PHCHG
1001020100,1,1,20100,3.787640715,0.014020142,388,33860,"Montgomery, AL",,1,O,1906,764,1912,752,6,0.31,-12,-1.57
1001020200,1,1,20200,1.289776246,0.002257153,388,33860,"Montgomery, AL",,1,O,1894,731,2170,822,276,14.57,91,12.45
1001020300,1,1,20300,2.065366326,0.003495769,388,33860,"Montgomery, AL",,1,O,3340,1265,3373,1326,33,0.99,61,4.82
1001020400,1,1,20400,2.464376283,0.006271844,388,33860,"Montgomery, AL",,1,O,4574,1880,4386,1823,-188,-4.11,-57,-3.03
1001020500,1,1,20500,4.400686412,0.018691979,388,33860,"Montgomery, AL",,1,O,6081,2330,10766,4308,4685,77.04,1978,84.89
1001020600,1,1,20600,3.096680757,0.023184663,388,33860,"Montgomery, AL",,1,O,3277,1301,3668,1452,391,11.93,151,11.61
1001020700,1,1,20700,8.651879854,0.301760085,388,33860,"Montgomery, AL",,1,O,2889,1343,2891,1301,2,0.07,-42,-3.13
1001020801,1,1,20801,47.98559298,3.132818376,388,33860,"Montgomery, AL",,1,O,1924,770,3081,1169,1157,60.14,399,51.82
1001020802,1,1,20802,73.67251161,0.261786155,388,33860,"Montgomery, AL",,1,O,7570,2925,10435,4003,2865,37.85,1078,36.85
1001020900,1,1,20900,113.0340426,0.199289726,388,33860,"Montgomery, AL",,1,O,4652,1867,5675,2320,1023,21.99,453,24.26
1001021000,1,1,21000,149.3655569,0.612906701,388,33860,"Montgomery, AL",,1,O,2621,1155,2894,1261,273,10.42,106,9.18
1001021100,1,1,21100,184.6219554,5.375584752,388,33860,"Montgomery, AL",,1,O,3013,1397,3320,1598,307,10.19,201,14.39
1003010100,1,3,10100,375.1117071,14.49553048,380,19300,"Daphne-Fairhope-Foley, AL",,2,C,4154,2341,3804,1984,-350,-8.43,-357,-15.25
1003010200,1,3,10200,85.61536617,0.138294463,380,19300,"Daphne-Fairhope-Foley, AL",,2,C,2854,1039,2902,1269,48,1.68,230,22.14
1003010300,1,3,10300,132.7134249,8.948790496,380,19300,"Daphne-Fairhope-Foley, AL",,2,C,6275,2545,7826,3100,1551,24.72,555,21.81
1003010400,1,3,10400,284.6390057,1.490731231,380,19300,"Daphne-Fairhope-Foley, AL",,2,C,4451,1760,4736,1959,285,6.4,199,11.31
1003010500,1,3,10500,6.748636673,0.059967845,380,19300,"Daphne-Fairhope-Foley, AL",,2,C,4578,1869,4815,1977,237,5.18,108,5.78
1003010600,1,3,10600,7.168475298,0.008292316,380,19300,"Daphne-Fairhope-Foley, AL",,2,C,3706,1374,3325,1375,-381,-10.28,1,0.07
1003010701,1,3,10701,41.96853267,20.84276452,380,19300,"Daphne-Fairhope-Foley, AL",,2,C,6447,2597,7882,3297,1435,22.26,700,26.95
```
<b>test1_output</b> 
```
19300,"Daphne-Fairhope-Foley, AL",7 ,32465,35290,5.93
33860,"Montgomery, AL",12 ,43741,54571,20.12
```

<b>test2</b> Data set with no CBSA code
```
GEOID,ST10,COU10,TRACT10,AREAL10,AREAW10,CSA09,CBSA09,CBSA_T,MDIV09,CSI,COFLG,POP00,HU00,POP10,HU10,NPCHG,PPCHG,NHCHG,PHCHG
1001020100,1,1,20100,3.787640715,0.014020142,388,,"Montgomery, AL",,1,O,1906,764,1912,752,6,0.31,-12,-1.57
1001020200,1,1,20200,1.289776246,0.002257153,388,,"Montgomery, AL",,1,O,1894,731,2170,822,276,14.57,91,12.45
1001020300,1,1,20300,2.065366326,0.003495769,388,,"Montgomery, AL",,1,O,3340,1265,3373,1326,33,0.99,61,4.82
1001020400,1,1,20400,2.464376283,0.006271844,388,,"Montgomery, AL",,1,O,4574,1880,4386,1823,-188,-4.11,-57,-3.03
1001020500,1,1,20500,4.400686412,0.018691979,388,,"Montgomery, AL",,1,O,6081,2330,10766,4308,4685,77.04,1978,84.89
1001020600,1,1,20600,3.096680757,0.023184663,388,,"Montgomery, AL",,1,O,3277,1301,3668,1452,391,11.93,151,11.61
1001020700,1,1,20700,8.651879854,0.301760085,388,,"Montgomery, AL",,1,O,2889,1343,2891,1301,2,0.07,-42,-3.13
1001020801,1,1,20801,47.98559298,3.132818376,388,,"Montgomery, AL",,1,O,1924,770,3081,1169,1157,60.14,399,51.82
1001020802,1,1,20802,73.67251161,0.261786155,388,,"Montgomery, AL",,1,O,7570,2925,10435,4003,2865,37.85,1078,36.85
1001020900,1,1,20900,113.0340426,0.199289726,388,,"Montgomery, AL",,1,O,4652,1867,5675,2320,1023,21.99,453,24.26
1001021000,1,1,21000,149.3655569,0.612906701,388,,"Montgomery, AL",,1,O,2621,1155,2894,1261,273,10.42,106,9.18
1001021100,1,1,21100,184.6219554,5.375584752,388,,"Montgomery, AL",,1,O,3013,1397,3320,1598,307,10.19,201,14.39
1003010100,1,3,10100,375.1117071,14.49553048,380,,"Daphne-Fairhope-Foley, AL",,2,C,4154,2341,3804,1984,-350,-8.43,-357,-15.25
1003010200,1,3,10200,85.61536617,0.138294463,380,,"Daphne-Fairhope-Foley, AL",,2,C,2854,1039,2902,1269,48,1.68,230,22.14
1003010300,1,3,10300,132.7134249,8.948790496,380,,"Daphne-Fairhope-Foley, AL",,2,C,6275,2545,7826,3100,1551,24.72,555,21.81
1003010400,1,3,10400,284.6390057,1.490731231,380,,"Daphne-Fairhope-Foley, AL",,2,C,4451,1760,4736,1959,285,6.4,199,11.31
1003010500,1,3,10500,6.748636673,0.059967845,380,,"Daphne-Fairhope-Foley, AL",,2,C,4578,1869,4815,1977,237,5.18,108,5.78
1003010600,1,3,10600,7.168475298,0.008292316,380,,"Daphne-Fairhope-Foley, AL",,2,C,3706,1374,3325,1375,-381,-10.28,1,0.07
1003010701,1,3,10701,41.96853267,20.84276452,380,,"Daphne-Fairhope-Foley, AL",,2,C,6447,2597,7882,3297,1435,22.26,700,26.95
```
<b>test2_output</b> Creates empty `report.csv`
```
empty report.csv generated
```
<b>test3</b> Missing/garbage data
```
GEOID,ST10,COU10,TRACT10,AREAL10,AREAW10,CSA09,CBSA09,CBSA_T,MDIV09,CSI,COFLG,POP00,HU00,POP10,HU10,NPCHG,PPCHG,NHCHG,PHCHG
1001020100,1,1,20100,3.787640715,0.014020142,388,33860,"Montgomery, AL",,1,O,1906,764,1912,752,6,0.31,-12,-1.57
1001020200,1,1,20200,1.289776246,0.002257153,388,33860,"Montgomery, AL",,1,O,1894,731,2170,822,276,14.57,91,12.45
1001020300,1,1,20300,2.065366326,0.003495769,388,33860,"Montgomery, AL",,1,O,3340,1265,3373,1326,33,0.99,61,4.82
1001020400,1,1,20400,2.464376283,0.006271844,388,33860,"Montgomery, AL",,1,O,4574,1880,4386,1823,-188,-4.11,-57,-3.03
1001020500,1,1,20500,4.400686412,0.018691979,388,33860,"Montgomery, AL",,1,O,6081,2330,10766,4308,4685,(X),1978,84.89
1001020600,1,1,20600,3.096680757,0.023184663,388,33860,"Montgomery, AL",,1,O,3277,1301,3668,1452,391,11.93,151,11.61
1001020700,1,1,20700,8.651879854,0.301760085,388,33860,"Montgomery, AL",,1,O,2889,1343,(X),1301,2,0.07,-42,-3.13
1001020801,1,1,20801,47.98559298,3.132818376,388,33860,"Montgomery, AL",,1,O,1924,770,3081,1169,1157,60.14,399,51.82
1001020802,1,1,20802,73.67251161,0.261786155,388,33860,"Montgomery, AL",,1,O,(X),2925,10435,4003,2865,37.85,1078,36.85
1001020900,1,1,20900,113.0340426,0.199289726,388,33860,"Montgomery, AL",,1,O,4652,1867,5675,2320,1023,(X),453,24.26
1001021000,1,1,21000,149.3655569,0.612906701,388,33860,"Montgomery, AL",,1,O,2621,1155,2894,1261,273,10.42,106,9.18
1001021100,1,1,21100,184.6219554,5.375584752,388,33860,"Montgomery, AL",,1,O,3013,1397,3320,1598,307,10.19,201,14.39
1003010100,1,3,10100,375.1117071,14.49553048,380,19300,"Daphne-Fairhope-Foley, AL",,2,C,4154,2341,3804,1984,-350,-8.43,-357,-15.25
1003010200,1,3,10200,85.61536617,0.138294463,380,19300,"Daphne-Fairhope-Foley, AL",,2,C,2854,1039,2902,1269,48,1.68,230,22.14
1003010300,1,3,10300,132.7134249,8.948790496,380,19300,"Daphne-Fairhope-Foley, AL",,2,C,6275,2545,7826,3100,1551,24.72,555,21.81
1003010400,1,3,10400,284.6390057,1.490731231,380,19300,"Daphne-Fairhope-Foley, AL",,2,C,4451,1760,4736,1959,285,(X),199,11.31
1003010500,1,3,10500,6.748636673,0.059967845,380,19300,"Daphne-Fairhope-Foley, AL",,2,C,4578,1869,4815,1977,237,5.18,108,5.78
1003010600,1,3,10600,7.168475298,0.008292316,380,19300,"Daphne-Fairhope-Foley, AL",,2,C,3706,1374,3325,1375,-381,-10.28,1,0.07
1003010701,1,3,10701,41.96853267,20.84276452,380,19300,"Daphne-Fairhope-Foley, AL",,2,C,6447,2597,7882,3297,1435,22.26,700,26.95
```
<b>test3_output</b> Missing and garbage values handled
```
19300,"Daphne-Fairhope-Foley, AL",7 ,32465,35290,5.02
33860,"Montgomery, AL",12 ,36171,41245,8.7
```
<b>test4</b> Missing CBSA Title records 
```
GEOID,ST10,COU10,TRACT10,AREAL10,AREAW10,CSA09,CBSA09,CBSA_T,MDIV09,CSI,COFLG,POP00,HU00,POP10,HU10,NPCHG,PPCHG,NHCHG,PHCHG
1001020100,1,1,20100,3.787640715,0.014020142,388,33860,"Montgomery, AL",,1,O,1906,764,1912,752,6,0.31,-12,-1.57
1001020200,1,1,20200,1.289776246,0.002257153,388,4444,"Montgomery, BL",,1,O,1894,731,2170,822,276,14.57,91,12.45
1001020300,1,1,20300,2.065366326,0.003495769,388,33860,"Montgomery, AL",,1,O,3340,1265,3373,1326,33,0.99,61,4.82
1001020400,1,1,20400,2.464376283,0.006271844,388,33860,,,1,O,4574,1880,4386,1823,-188,-4.11,-57,-3.03
1001020500,1,1,20500,4.400686412,0.018691979,388,33860,"Montgomery, AL",,1,O,6081,2330,10766,4308,4685,77.04,1978,84.89
1001020600,1,1,20600,3.096680757,0.023184663,388,33860,"Montgomery, AL",,1,O,3277,1301,3668,1452,391,11.93,151,11.61
1001020700,1,1,20700,8.651879854,0.301760085,388,4444,"Montgomery, BL",,1,O,2889,1343,2891,1301,2,0.07,-42,-3.13
1001020801,1,1,20801,47.98559298,3.132818376,388,33860,"Montgomery, AL",,1,O,1924,770,3081,1169,1157,60.14,399,51.82
1001020802,1,1,20802,73.67251161,0.261786155,388,33860,"Montgomery, AL",,1,O,7570,2925,10435,4003,2865,37.85,1078,36.85
1001020900,1,1,20900,113.0340426,0.199289726,388,33860,"Montgomery, AL",,1,O,4652,1867,5675,2320,1023,21.99,453,24.26
1001021000,1,1,21000,149.3655569,0.612906701,388,33860,,,1,O,2621,1155,2894,1261,273,10.42,106,9.18
1001021100,1,1,21100,184.6219554,5.375584752,388,33860,"Montgomery, AL",,1,O,3013,1397,3320,1598,307,10.19,201,14.39
1003010100,1,3,10100,375.1117071,14.49553048,380,19300,"Daphne-Fairhope-Foley, AL",,2,C,4154,2341,3804,1984,-350,-8.43,-357,-15.25
1003010200,1,3,10200,85.61536617,0.138294463,380,19300,"Daphne-Fairhope-Foley, AL",,2,C,2854,1039,2902,1269,48,1.68,230,22.14
1003010300,1,3,10300,132.7134249,8.948790496,380,19300,"Daphne-Fairhope-Foley, AL",,2,C,6275,2545,7826,3100,1551,24.72,555,21.81
1003010400,1,3,10400,284.6390057,1.490731231,380,19300,"Daphne-Fairhope-Foley, AL",,2,C,4451,1760,4736,1959,285,6.4,199,11.31
1003010500,1,3,10500,6.748636673,0.059967845,380,19300,,,2,C,4578,1869,4815,1977,237,5.18,108,5.78
1003010600,1,3,10600,7.168475298,0.008292316,380,19300,"Daphne-Fairhope-Foley, AL",,2,C,3706,1374,3325,1375,-381,-10.28,1,0.07
1003010701,1,3,10701,41.96853267,20.84276452,380,19300,"Daphne-Fairhope-Foley, AL",,2,C,6447,2597,7882,3297,1435,22.26,700,26.95
```
<b>output</b> It fills missing CBSA title based on CBSA code
```
19300,"Daphne-Fairhope-Foley, AL",7 ,32465,35290,5.93
33860,"Montgomery, AL",10 ,38958,49510,22.68
4444,"Montgomery, BL",2 ,4783,5061,7.32
```

# Run Instructions
Python version : 3.8.1;
Inlcuded I/O libraries alone;
Test cases can be run by moving each input file from testsuite to input file and check output<br>

# Contact
Email Address : alakshmanegowda@hawk.iit.edu <br>
[LinkedIn](https://www.linkedin.com/in/amruthagowda/)
